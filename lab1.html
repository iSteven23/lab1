<!DOCTYPE html>
<html>
	<head>
		<title>Lab1</title>
		<meta charset = “utf-8”>
		<style type="text/css">
			#boxAtt{
				background-color: aqua;
				border-style: solid;
				border-color: black;
				width: 350px;
				height: 300px;
				text-align: center;
			}

		</style>
		<script type="text/javascript">

			var userText;
			var passText;
			var IDnum;
			var messText;
			var hasNum = /\d/;
			var pCheck = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{3,}$/;
			var wordCount = 25;
			var numWordSpan;
			var theTextArea;
			var theTextField;
			var output;
			var boxColor;

			function subButtonHandler()
			{
				userText = document.getElementById("usernameText").value;
				passText = document.getElementById("passwordText").value;
				IDnum = document.getElementById("studentID").value;
				output.innerHTML = "";
				

				console.clear();

				if (hasNum.test(userText) || userText == "") {
					console.log("BAD: contains numbers or empty");
					output.innerHTML += "INVALID USERNAME<br>";

				}
				else
				{
					console.log("good username");
				}

				if (passText.match(pCheck)){
					console.log("good password");
				}
				else{
					console.log("bad password");
					output.innerHTML += "INVALID PASSWORD<br>";
				}

				if(IDnum.length == 9){
					console.log("good ID");
				}
				else
				{
					console.log("bad ID");
					output.innerHTML += "INVALID ID NUMBER<br>";
				}
				if(output.innerHTML == "")
				{
					output.innerHTML += "SUCCESS!";
					document.body.style.backgroundColor = "yellow";
				}
				else
				{
					document.body.style.backgroundColor = "blue";
				}
				
				
			}
			function wordCounter()
			{
				var currString = theTextArea.value;

				if (currString === "") 
				{
			  		numWordSpan.innerHTML = 0;
				}
				else
				{
			  		
			  		var strArray = currString.split(/ +/);
			  		
			  		if(strArray.length < 25)
			  		{
			  			numWordSpan.innerHTML = wordCount - strArray.length;
			  		}
			  		else
			  		{
			  			theTextField.disabled = true;
			  			numWordSpan.innerHTML = wordCount - strArray.length;
			  		}
			  		

				}
			}
			

			function init()
			{


				var theSubButton = document.getElementById("theSubButton");
				theSubButton.addEventListener("click", subButtonHandler);

				theTextArea = document.getElementById("messageText");
				numWordSpan = document.getElementById("numberOfWords");
				numberOfWords.innerHTML = wordCount;

				theTextArea.addEventListener("keyup", wordCounter);
				theTextField = document.getElementById("messageText")

				output = document.getElementById("theOuput");
				boxColor = document.getElementById("boxAtt");
				document.body.style.backgroundColor = "yellow";

				document.addEventListener("keydown", function(event)
				{
			  		if (event.which == 8) 
			  		{
			  			theTextField.disabled = false;
			  		}
			  	})

			}
			window.addEventListener("load",init);

		</script>
		

	</head>
	<body>
		<form>
			<div id="boxAtt">
				<h3>Registration Form</h3>
				Username: <br><input type="text" id="usernameText"><br>
				Password: <br><input type="password" id="passwordText"><br>
				Student ID: <br><input type="number" id="studentID"><br>
				Message: <span id="numberOfWords"></span> words remaining<br><textarea id="messageText" style="height: 75px;"></textarea><br>
				<input type="button" id="theSubButton" value="Submit">
				
			</div>
			<br><div id="theOuput" style="color: red; size: 14px;"></div>

		</form>
		
	</body>
</html>

<!--
username: textfield (only letters)
password: at least one: upper, lower, and number
student ID: numbers
messsage: up to 25 words
submit: type "button"
	-->